#include <stdint.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <sys/mman.h>
#include <assert.h>
#include "l1tf.h"
#include "constants.h"
#include "hypercall.h"

int main(void)
{
	srand(time(0));
	l1tf_init();
	void *p = mmap(NULL, PAGE_SIZE, PROT_WRITE|PROT_READ, MAP_PRIVATE|MAP_ANON|MAP_POPULATE, -1, 0); assert(p != MAP_FAILED);

	uintptr_t pa = l1tf_find_page_pa(p);
	printf("l1tf_find_page_pa --> %lx\n", pa);

	return 0;
}
